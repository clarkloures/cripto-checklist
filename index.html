<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Plano de Estudos - Criptomoedas (6 Meses)</title>
  <style>
    :root{
      --bg:#0d1117;         /* GitHub Dark background */
      --card:#161b22;       /* Cards escuros */
      --edge:#30363d;       /* Bordas */
      --muted:#21262d;      /* Chips/itens */
      --text:#c9d1d9;
      --title:#f0f6fc;
      --link:#58a6ff;
      --green:#2ea043;      /* Verde GitHub */
    }
    *{box-sizing:border-box}
    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      margin:0;
      padding:0;
    }
    header{
      position: sticky; top:0; z-index:10;
      background: var(--card);
      border-bottom: 1px solid var(--edge);
      padding: 12px 16px;
      display:flex; align-items:center; gap:14px; flex-wrap:wrap; justify-content:space-between;
    }
    header h1{margin:0; font-size:18px; color:var(--title)}
    .toolbar{display:flex; gap:8px; flex-wrap:wrap}
    .btn{
      background: var(--muted); color: var(--title);
      border:1px solid var(--edge); border-radius:6px;
      padding:8px 12px; cursor:pointer; font-size:14px;
    }
    .btn:hover{filter:brightness(1.05)}
    .container{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap:20px; padding:20px;
    }
    .month{
      background: var(--card);
      border:1px solid var(--edge);
      border-radius:8px; padding:16px;
      display:flex; flex-direction:column;
    }
    .month h2{margin:0 0 10px; font-size:18px; color:var(--link)}
    ul{list-style:none; padding:0; margin:0; flex:1}
    li{
      background: var(--muted);
      border:1px solid var(--edge);
      border-radius:6px; padding:10px; margin:6px 0;
      display:flex; flex-direction:column; gap:6px;
    }
    label{display:flex; align-items:center; gap:10px; font-size:14px}
    input[type="checkbox"]{transform:scale(1.15)}
    .links{font-size:13px}
    a{color:var(--link); text-decoration:none; margin-right:8px}
    a:hover{text-decoration:underline}
    /* barras de progresso */
    .month-progress{
      margin-top:10px; background: var(--muted);
      border:1px solid var(--edge); border-radius:6px; overflow:hidden;
    }
    .month-bar{
      height:14px; background: var(--green); width:0%;
      color:#fff; font-size:12px; line-height:14px; text-align:center;
      transition: width .25s ease;
    }
    .progress-container{
      margin: 12px 20px 24px; background: var(--muted);
      border:1px solid var(--edge); border-radius:8px; overflow:hidden;
    }
    .progress-bar{
      height:24px; background: var(--green); width:0%;
      color:#fff; text-align:center; line-height:24px; font-weight:600;
      transition: width .25s ease;
    }
    .hint{opacity:.8; font-size:12px; text-align:center; margin: 0 20px 20px}
  </style>
</head>
<body>
  <header>
    <h1>Plano de Estudos - Criptomoedas (6 Meses)</h1>
    <div class="toolbar">
      <button class="btn" id="btnExport">Exportar resultado</button>
      <button class="btn" id="btnImport">Importar resultado</button>
      <button class="btn" id="btnPrint">Imprimir / PDF</button>
    </div>
  </header>

  <div class="container" id="grid">
    <!-- Mês 1 -->
    <section class="month" data-month="m1">
      <h2>Mês 1 – Fundamentos</h2>
      <ul>
        <li><label><input type="checkbox" data-key="m1_1"> História do dinheiro</label></li>
        <li><label><input type="checkbox" data-key="m1_2"> O que é blockchain</label></li>
        <li><label><input type="checkbox" data-key="m1_3"> O que é Bitcoin e por que foi criado</label></li>
        <li><label><input type="checkbox" data-key="m1_4"> Como funcionam as transações</label></li>
      </ul>
      <div class="month-progress"><div class="month-bar">0%</div></div>
    </section>

    <!-- Mês 2 -->
    <section class="month" data-month="m2">
      <h2>Mês 2 – Segurança</h2>
      <ul>
        <li><label><input type="checkbox" data-key="m2_1"> Chave privada e pública</label></li>
        <li><label><input type="checkbox" data-key="m2_2"> Hot x Cold wallets</label></li>
        <li><label><input type="checkbox" data-key="m2_3"> Criar e proteger carteira</label></li>
        <li><label><input type="checkbox" data-key="m2_4"> Seed phrase e backup seguro</label></li>
      </ul>
      <div class="month-progress"><div class="month-bar">0%</div></div>
    </section>

    <!-- Mês 3 -->
    <section class="month" data-month="m3">
      <h2>Mês 3 – Exchanges e Mercado</h2>
      <ul>
        <li><label><input type="checkbox" data-key="m3_1"> O que é uma corretora (exchange)</label></li>
        <li><label><input type="checkbox" data-key="m3_2"> Comprar e vender BTC com segurança</label></li>
        <li><label><input type="checkbox" data-key="m3_3"> Taxas, liquidez e ordens</label></li>
        <li><label><input type="checkbox" data-key="m3_4"> Stablecoins (USDT, USDC, DAI)</label></li>
      </ul>
      <div class="month-progress"><div class="month-bar">0%</div></div>
    </section>

    <!-- Mês 4 -->
    <section class="month" data-month="m4">
      <h2>Mês 4 – Ethereum e Altcoins</h2>
      <ul>
        <li><label><input type="checkbox" data-key="m4_1"> Ethereum e smart contracts</label></li>
        <li><label><input type="checkbox" data-key="m4_2"> Principais altcoins e casos de uso</label></li>
        <li><label><input type="checkbox" data-key="m4_3"> DeFi (finanças descentralizadas)</label></li>
        <li><label><input type="checkbox" data-key="m4_4"> NFTs e aplicações</label></li>
      </ul>
      <div class="month-progress"><div class="month-bar">0%</div></div>
    </section>

    <!-- Mês 5 -->
    <section class="month" data-month="m5">
      <h2>Mês 5 – Custódia Própria & Transações Offline</h2>
      <ul>
        <li>
          <label><input type="checkbox" data-key="m5_1"> Custódia própria (self-custody)</label>
          <div class="links">
            <a href="https://ledger.com" target="_blank">Ledger</a>
            <a href="https://trezor.io" target="_blank">Trezor</a>
            <a href="https://coldcard.com" target="_blank">Coldcard</a>
            <a href="https://sparrowwallet.com" target="_blank">Sparrow</a>
            <a href="https://electrum.org" target="_blank">Electrum</a>
          </div>
        </li>
        <li>
          <label><input type="checkbox" data-key="m5_2"> Backup seguro da seed phrase</label>
          <div class="links">
            <a href="https://billfodl.com" target="_blank">Billfodl</a>
            <a href="https://seedplate.com" target="_blank">Seedplate</a>
          </div>
        </li>
        <li>
          <label><input type="checkbox" data-key="m5_3"> Transações offline (air-gapped)</label>
          <div class="links">
            <a href="https://electrum.org" target="_blank">Electrum</a>
            <a href="https://sparrowwallet.com" target="_blank">Sparrow</a>
            <a href="https://coldcard.com" target="_blank">Coldcard</a>
          </div>
        </li>
        <li>
          <label><input type="checkbox" data-key="m5_4"> Comprar e vender sem corretora (P2P)</label>
          <div class="links">
            <a href="https://bisq.network" target="_blank">Bisq</a>
            <a href="https://hodlhodl.com" target="_blank">Hodl Hodl</a>
            <a href="https://peachbitcoin.com" target="_blank">Peach Bitcoin</a>
          </div>
        </li>
      </ul>
      <div class="month-progress"><div class="month-bar">0%</div></div>
    </section>

    <!-- Mês 6 -->
    <section class="month" data-month="m6">
      <h2>Mês 6 – Avançado</h2>
      <ul>
        <li><label><input type="checkbox" data-key="m6_1"> Escalabilidade e Lightning Network</label></li>
        <li><label><input type="checkbox" data-key="m6_2"> Governança e DAOs</label></li>
        <li><label><input type="checkbox" data-key="m6_3"> Regulação global</label></li>
        <li><label><input type="checkbox" data-key="m6_4"> Tendências futuras</label></li>
      </ul>
      <div class="month-progress"><div class="month-bar">0%</div></div>
    </section>
  </div>

  <div class="progress-container">
    <div class="progress-bar" id="progressTotal">0%</div>
  </div>
  <p class="hint">Dica: exporte seu progresso para fazer backup e importe quando precisar. Funciona offline após o primeiro acesso. ✅</p>

  <script>
    (function(){
      const STORAGE_KEY = 'cryptoPlan:v2'; // namespace
      const checkboxes = Array.from(document.querySelectorAll('input[type="checkbox"][data-key]'));
      const months = Array.from(document.querySelectorAll('.month'));
      const totalBar = document.getElementById('progressTotal');

      // carregar estado salvo
      let state = {};
      try {
        state = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
      } catch(e){ state = {}; }

      // aplica estado salvo
      checkboxes.forEach(cb => {
        const key = cb.dataset.key;
        if (state[key] === true) cb.checked = true;
      });

      function percentStr(done, total){ return Math.round((done/total)*100) + '%'; }

      function updateMonthBars(){
        months.forEach(month => {
          const cbs = month.querySelectorAll('input[type="checkbox"][data-key]');
          const done = month.querySelectorAll('input[type="checkbox"][data-key]:checked').length;
          const bar = month.querySelector('.month-bar');
          const p = cbs.length ? (done / cbs.length) : 0;
          const pct = Math.round(p*100);
          bar.style.width = pct + '%';
          bar.textContent = pct + '%';
        });
      }

      function updateTotalBar(){
        const total = checkboxes.length;
        const done = document.querySelectorAll('input[type="checkbox"][data-key]:checked').length;
        const pct = percentStr(done, total);
        totalBar.style.width = pct;
        totalBar.textContent = pct;
      }

      function save(key, val){
        state[key] = val;
        localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
      }

      // listeners
      checkboxes.forEach(cb => {
        cb.addEventListener('change', () => {
          save(cb.dataset.key, cb.checked);
          updateMonthBars();
          updateTotalBar();
        });
      });

      // inicializa barras
      updateMonthBars();
      updateTotalBar();

      // Exportar / Importar / Imprimir
      document.getElementById('btnExport').addEventListener('click', () => {
        const blob = new Blob([JSON.stringify(state, null, 2)], {type:'application/json'});
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url; a.download = 'progresso-cripto.json'; a.click();
        setTimeout(() => URL.revokeObjectURL(url), 1000);
      });

      document.getElementById('btnImport').addEventListener('click', () => {
        const input = document.createElement('input');
        input.type = 'file'; input.accept = 'application/json';
        input.onchange = () => {
          const file = input.files[0]; if(!file) return;
          const reader = new FileReader();
          reader.onload = () => {
            try {
              const data = JSON.parse(reader.result);
              state = data || {};
              localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
              // aplica novo estado
              checkboxes.forEach(cb => cb.checked = !!state[cb.dataset.key]);
              updateMonthBars(); updateTotalBar();
              alert('Progresso importado com sucesso!');
            } catch(e){ alert('Arquivo inválido.'); }
          };
          reader.readAsText(file);
        };
        input.click();
      });

      document.getElementById('btnPrint').addEventListener('click', () => window.print());

      // Service Worker p/ offline
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('./sw.js').catch(()=>{});
        });
      }
    })();
  </script>
</body>
</html>


